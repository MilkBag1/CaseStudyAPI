"use strict";(self["webpackChunkcasestudy"]=self["webpackChunkcasestudy"]||[]).push([[534],{5572:(t,e,a)=>{a.d(e,{C:()=>l,_:()=>r});const s="/api/",r=async t=>{let e,a=c();try{let r=await fetch(`${s}${t}`,{method:"GET",headers:a});e=await r.json()}catch(r){console.log(r),e={error:`Error has occured: ${r.message}`}}return e},l=async(t,e)=>{let a,r=c();try{let l=await fetch(`${s}${t}`,{method:"POST",headers:r,body:JSON.stringify(e)});a=await l.json()}catch(l){a=l}return a},c=()=>{const t=new Headers,e=JSON.parse(sessionStorage.getItem("customer"));return e?(t.append("Content-Type","application/json"),t.append("Authorization","Bearer "+e.token)):t.append("Content-Type","application/json"),t}},7081:(t,e,a)=>{a.d(e,{p:()=>r,x:()=>s});const s=t=>t.toLocaleString("en-US",{style:"currency",currency:"USD"}),r=t=>{let e;e=void 0===t?new Date:new Date(Date.parse(t));let a=e.getDate(),s=e.getMonth()+1,r=e.getFullYear(),l=e.getHours(),c=e.getMinutes();return c<10&&(c="0"+c),r+"-"+s+"-"+a+" "+l+":"+c}},4534:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Z});var s=a(9835),r=a(6970);const l={class:"text-center"},c=(0,s._)("div",{class:"text-h4 q-mt-md"},"Cart Contents",-1),m=["src"],n={class:"text-h6 text-positive"},o={key:0,style:{width:"90vw","margin-left":"5vw","margin-top":"1vh"}},u=(0,s.Uk)("Name"),i=(0,s.Uk)("Qty"),d=(0,s.Uk)("MSRP"),p=(0,s.Uk)("Extended"),f=(0,s.Uk)("Sub:"),w=(0,s.Uk)("Tax(13%):"),x=(0,s.Uk)("Total:"),y={class:"col-4 q-mr-sm text-center"};function g(t,e,a,g,h,W){const _=(0,s.up)("q-avatar"),k=(0,s.up)("q-item-section"),q=(0,s.up)("q-item"),C=(0,s.up)("q-list"),v=(0,s.up)("q-card"),b=(0,s.up)("q-scroll-area"),S=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",l,[c,(0,s.Wm)(_,{class:"q-mt-md",size:"xl",square:""},{default:(0,s.w5)((()=>[(0,s._)("img",{src:"/img/cart.png"},null,8,m)])),_:1}),(0,s._)("div",n,(0,r.zw)(g.state.status),1)]),g.state.cart.length>0?((0,s.wg)(),(0,s.iD)("div",o)):(0,s.kq)("",!0),(0,s._)("div",null,[(0,s.Wm)(q,{style:{bottom:"-2vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"col-2 q-ml-sm text-h6 text-primary"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(k,{class:"q-ml-sm text-h6 text-primary text-center"},{default:(0,s.w5)((()=>[i])),_:1}),(0,s.Wm)(k,{class:"q-ml-sm text-h6 text-primary text-center"},{default:(0,s.w5)((()=>[d])),_:1}),(0,s.Wm)(k,{class:"q-ml-sm text-h6 text-primary"},{default:(0,s.w5)((()=>[p])),_:1})])),_:1}),(0,s.Wm)(b,{style:{height:"40vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{class:"q-ma-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{separator:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(g.state.cart,(t=>((0,s.wg)(),(0,s.j4)(q,{key:t.id,clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"col-4"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.item.productName),1)])),_:2},1024),(0,s.Wm)(k,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(t.qty),1)])),_:2},1024),(0,s.Wm)(k,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(g.formatCurrency(t.item.msrp)),1)])),_:2},1024),(0,s.Wm)(k,{class:"text-left"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(g.formatCurrency(t.item.msrp*t.qty)),1)])),_:2},1024)])),_:2},1024)))),128)),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"col-4"}),(0,s.Wm)(k,{class:"text-left"}),(0,s.Wm)(k,{class:"q-ml-sm text-h6 text-primary text-center"},{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)(k,{class:"col-4 text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(g.formatCurrency(g.state.sub)),1)])),_:1})])),_:1}),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"col-4"}),(0,s.Wm)(k,{class:"text-left"}),(0,s.Wm)(k,{class:"q-ml-sm text-h7 text-bold text-primary text-left padding-right"},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(k,{class:"col-4 text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(g.formatCurrency(g.state.tax)),1)])),_:1})])),_:1}),(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Wm)(k,{class:"col-4"}),(0,s.Wm)(k,{class:"text-left"}),(0,s.Wm)(k,{class:"q-ml-sm text-h6 text-secondary text-left padding-right"},{default:(0,s.w5)((()=>[x])),_:1}),(0,s.Wm)(k,{class:"col-4 text-center"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,r.zw)(g.formatCurrency(g.state.total)),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,s._)("div",y,[(0,s.Wm)(S,{class:"q-mr-sm",color:"primary",label:"Checkout",disable:g.state.cart.length<1,onClick:e[0]||(e[0]=t=>g.checkout())},null,8,["disable"]),(0,s.Wm)(S,{color:"primary",label:"Clear Cart",disable:g.state.cart.length<1,onClick:e[1]||(e[1]=t=>g.clearCart())},null,8,["disable"])])])],64)}var h=a(7081),W=a(5572),_=a(499);const k={setup(){(0,s.bv)((()=>{sessionStorage.getItem("cart")?(t.cart=JSON.parse(sessionStorage.getItem("cart")),t.cart.forEach((e=>{t.sub+=e.item.msrp*e.qty,t.tax+=e.item.msrp*e.qty*.13,t.total+=e.item.msrp*e.qty*1.13}))):t.cart=[]}));let t=(0,_.qj)({sub:0,tax:0,total:0,status:"",cart:[]});const e=()=>{sessionStorage.removeItem("cart"),t.cart=[],t.status="cart cleared",t.sub=0,t.tax=0,t.total=0},a=async()=>{let a=JSON.parse(sessionStorage.getItem("customer")),s=JSON.parse(sessionStorage.getItem("cart"));try{t.status="sending cart info to server";let r={email:a.email,selections:s},l=await(0,W.C)("Order",r);l.indexOf("not")>0||e(),t.status=l}catch(r){console.log(r),t.status=`Error add cart: ${r}`}};return{state:t,formatCurrency:h.x,checkout:a,clearCart:e}}};var q=a(1639),C=a(1357),v=a(490),b=a(1233),S=a(1019),U=a(4458),z=a(3246),D=a(4455),I=a(9984),O=a.n(I);const Q=(0,q.Z)(k,[["render",g]]),Z=Q;O()(k,"components",{QAvatar:C.Z,QItem:v.Z,QItemSection:b.Z,QScrollArea:S.Z,QCard:U.Z,QList:z.Z,QBtn:D.Z})}}]);